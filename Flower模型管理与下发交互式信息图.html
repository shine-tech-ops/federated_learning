<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flower æ¨¡å‹ç®¡ç†ä¸ä¸‹å‘ - äº¤äº’å¼ä¿¡æ¯å›¾</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Soothing Neutrals & Warm Accents -->
    <!-- Application Structure Plan: The SPA is structured as a comparative dashboard. A central hero section introduces the topic. The main content is a two-column layout visually separating "Developer's Role (Management)" from "Flower's Role (Distribution)". Users can click on cards within each column to dynamically display detailed information in a shared panel below. This is followed by a visual flowchart built with HTML/CSS to synthesize the entire process. A concluding donut chart quantifies the division of labor. This structure was chosen to transform a descriptive text into an exploratory and comparative learning tool, enhancing comprehension and engagement. -->
    <!-- Visualization & Content Choices: 1. Main Concepts (Storage, Versioning, Protobuf, etc.): Interactive Cards (HTML/CSS + JS). Goal: Organize & Inform. Interaction: Click to reveal details. Justification: Breaks down complex text into digestible, user-triggered chunks. 2. End-to-End Process: Flowchart Diagram (HTML/CSS). Goal: Organize & Show Process. Interaction: Static visual guide. Justification: Provides a high-level overview connecting all concepts, built without SVG/Mermaid. 3. Division of Labor: Donut Chart (Chart.js/Canvas). Goal: Inform (single data point). Interaction: Hover for tooltips. Justification: Adds a quantitative, infographic-style visual to summarize the core message of responsibility split. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #f9f9f9;
            color: #404040;
        }
        .card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            cursor: pointer;
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .card.active {
            transform: translateY(-2px);
            border-color: #f59e0b; /* Amber 500 */
            box-shadow: 0 0 15px rgba(245, 158, 11, 0.4);
        }
        .details-panel {
            transition: opacity 0.4s ease-in-out, max-height 0.4s ease-in-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .details-panel.show {
            max-height: 1000px; /* Adjust as needed */
            opacity: 1;
        }
        .flowchart-step {
            position: relative;
            z-index: 1;
        }
        .flowchart-arrow {
            position: absolute;
            top: 50%;
            left: 100%;
            transform: translateY(-50%);
            width: 50px; /* Adjust based on gap */
            height: 2px;
            background-color: #d1d5db;
        }
         .flowchart-arrow::after {
            content: '';
            position: absolute;
            right: -8px;
            top: -4px;
            border-top: 5px solid transparent;
            border-bottom: 5px solid transparent;
            border-left: 8px solid #d1d5db;
        }
    </style>
</head>
<body class="antialiased">

    <main class="container mx-auto px-4 py-12 md:py-16">

        <section id="hero" class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4 text-neutral-800">Flower è”é‚¦å­¦ä¹ </h1>
            <h2 class="text-2xl md:text-3xl font-semibold text-amber-600 mb-6">æ¨¡å‹ç®¡ç†ä¸ä¸‹å‘æœºåˆ¶</h2>
            <p class="max-w-3xl mx-auto text-lg text-neutral-600">
                ä¸€ä¸ªäº¤äº’å¼æŒ‡å—ï¼Œæ¸…æ™°åˆ’åˆ† Flower æ¡†æ¶ä¸å¼€å‘è€…åœ¨æ¨¡å‹ç”Ÿå‘½å‘¨æœŸç®¡ç†ä¸­çš„èŒè´£ã€‚
            </p>
        </section>

        <section id="main-content" class="mb-16">
            <h3 class="text-3xl font-bold text-center mb-10 text-neutral-700">èŒè´£åˆ’åˆ†ï¼šå¼€å‘è€… vs. Flower æ¡†æ¶</h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
                <!-- Developer's Role -->
                <div class="space-y-6">
                    <h4 class="text-2xl font-bold text-center text-sky-700">ğŸ‘¨â€ğŸ’» å¼€å‘è€…èŒè´£ï¼šæ¨¡å‹ç®¡ç†</h4>
                    <div id="card-storage" class="card bg-white p-6 rounded-lg shadow-md border-2 border-transparent">
                        <h5 class="text-xl font-semibold">1. å­˜å‚¨</h5>
                        <p class="text-neutral-500 mt-2">è´Ÿè´£æ¨¡å‹å‚æ•°çš„æŒä¹…åŒ–ï¼Œç¡®ä¿å¯è¿½æº¯ã€å¯å›æ»šã€‚</p>
                    </div>
                    <div id="card-versioning" class="card bg-white p-6 rounded-lg shadow-md border-2 border-transparent">
                        <h5 class="text-xl font-semibold">2. ç‰ˆæœ¬æ§åˆ¶</h5>
                        <p class="text-neutral-500 mt-2">ä¸ºæ¯ä¸ªæ¨¡å‹åˆ†é…å”¯ä¸€ç‰ˆæœ¬ï¼Œè¿½è¸ªå®éªŒä¸æ€§èƒ½ã€‚</p>
                    </div>
                    <div id="card-loading" class="card bg-white p-6 rounded-lg shadow-md border-2 border-transparent">
                        <h5 class="text-xl font-semibold">3. åŠ è½½</h5>
                        <p class="text-neutral-500 mt-2">åœ¨è®­ç»ƒå¼€å§‹å‰ï¼ŒåŠ è½½æŒ‡å®šçš„å…¨å±€æ¨¡å‹å‚æ•°ã€‚</p>
                    </div>
                </div>

                <!-- Flower's Role -->
                <div class="space-y-6">
                    <h4 class="text-2xl font-bold text-center text-teal-700">âš™ï¸ Flower èŒè´£ï¼šæ¨¡å‹ä¸‹å‘</h4>
                    <div id="card-internal" class="card bg-white p-6 rounded-lg shadow-md border-2 border-transparent">
                        <h5 class="text-xl font-semibold">1. å†…éƒ¨è¡¨ç¤º (Python)</h5>
                        <p class="text-neutral-500 mt-2">åœ¨ä»£ç ä¸­å°†æ¨¡å‹æƒé‡è¡¨ç¤ºä¸º NumPy æ•°ç»„åˆ—è¡¨ã€‚</p>
                    </div>
                    <div id="card-transport" class="card bg-white p-6 rounded-lg shadow-md border-2 border-transparent">
                        <h5 class="text-xl font-semibold">2. ç½‘ç»œä¼ è¾“ (Protobuf)</h5>
                        <p class="text-neutral-500 mt-2">è‡ªåŠ¨å°† NumPy æ•°ç»„åºåˆ—åŒ–ä¸ºé«˜æ•ˆçš„ Protobuf æ ¼å¼ã€‚</p>
                    </div>
                    <div id="card-reception" class="card bg-white p-6 rounded-lg shadow-md border-2 border-transparent">
                        <h5 class="text-xl font-semibold">3. å®¢æˆ·ç«¯æ¥æ”¶</h5>
                        <p class="text-neutral-500 mt-2">è‡ªåŠ¨ååºåˆ—åŒ–ï¼Œå°†å‚æ•°æä¾›ç»™å®¢æˆ·ç«¯æ¨¡å‹ã€‚</p>
                    </div>
                </div>
            </div>

            <div id="details-panel" class="details-panel mt-12 bg-white p-8 rounded-xl shadow-xl border border-neutral-200">
                <h4 id="details-title" class="text-2xl font-bold mb-4"></h4>
                <div id="details-content" class="prose max-w-none text-neutral-600"></div>
            </div>
        </section>

        <section id="process-flow" class="mb-16">
            <h3 class="text-3xl font-bold text-center mb-10 text-neutral-700">ç«¯åˆ°ç«¯æµç¨‹ç¤ºæ„å›¾</h3>
            <div class="bg-white p-8 rounded-lg shadow-lg">
                <div class="flex justify-between items-center text-center space-x-4">
                    <div class="flowchart-step flex-1 bg-sky-100 p-4 rounded-md border border-sky-300">
                        <div class="font-bold text-sky-800">1. æ¨¡å‹ç®¡ç† (å¼€å‘è€…)</div>
                        <p class="text-sm text-sky-700">ä¿å­˜/åŠ è½½æ¨¡å‹</p>
                        <div class="flowchart-arrow"></div>
                    </div>
                    <div class="flowchart-step flex-1 bg-teal-100 p-4 rounded-md border border-teal-300">
                        <div class="font-bold text-teal-800">2. åºåˆ—åŒ– (Flower)</div>
                        <p class="text-sm text-teal-700">NumPy â” Protobuf</p>
                        <div class="flowchart-arrow"></div>
                    </div>
                    <div class="flowchart-step flex-1 bg-neutral-100 p-4 rounded-md border border-neutral-300">
                        <div class="font-bold text-neutral-800">3. ç½‘ç»œä¼ è¾“</div>
                        <p class="text-sm text-neutral-700">gRPC é•¿è¿æ¥</p>
                        <div class="flowchart-arrow"></div>
                    </div>
                    <div class="flowchart-step flex-1 bg-teal-100 p-4 rounded-md border border-teal-300">
                        <div class="font-bold text-teal-800">4. ååºåˆ—åŒ– (Flower)</div>
                        <p class="text-sm text-teal-700">Protobuf â” NumPy</p>
                        <div class="flowchart-arrow"></div>
                    </div>
                    <div class="flowchart-step flex-1 bg-sky-100 p-4 rounded-md border border-sky-300">
                        <div class="font-bold text-sky-800">5. æ¨¡å‹ä½¿ç”¨ (å¼€å‘è€…)</div>
                        <p class="text-sm text-sky-700">åŠ è½½å‚æ•°å¹¶è®­ç»ƒ</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="division-of-labor-chart">
            <h3 class="text-3xl font-bold text-center mb-10 text-neutral-700">å·¥ä½œé‡åˆ’åˆ†</h3>
             <div class="bg-white p-8 rounded-lg shadow-lg max-w-xl mx-auto">
                <p class="text-center text-neutral-600 mb-6">Flower æ¡†æ¶å¤„ç†äº†ç»å¤§éƒ¨åˆ†å¤æ‚çš„åº•å±‚å·¥ä½œï¼Œè®©å¼€å‘è€…å¯ä»¥ä¸“æ³¨äºæ¨¡å‹å’Œä¸šåŠ¡é€»è¾‘ã€‚</p>
                <div class="h-80 w-full mx-auto">
                    <canvas id="responsibilityChart"></canvas>
                </div>
            </div>
        </section>

    </main>

    <script>
        const detailsData = {
            "card-storage": {
                title: "æ¨¡å‹å­˜å‚¨",
                content: `
                    <p>åœ¨æ¯ä¸€è½®èšåˆå®Œæˆåï¼ŒæœåŠ¡å™¨ä¼šå¾—åˆ°ä¸€ä¸ªæœ€æ–°çš„å…¨å±€æ¨¡å‹å‚æ•°ã€‚ä¸ºäº†èƒ½å¤Ÿè¿½æº¯ã€å›æ»šæˆ–é‡æ–°å¼€å§‹è®­ç»ƒï¼Œæ‚¨éœ€è¦å°†è¿™äº› NumPy æ•°ç»„æŒä¹…åŒ–ã€‚</p>
                    <strong>å¸¸è§åšæ³•:</strong>
                    <ul>
                        <li><strong>æœ¬åœ°æ–‡ä»¶:</strong> å°†å‚æ•°ä¿å­˜ä¸º <code>.npy</code> æ–‡ä»¶æˆ–é€šè¿‡ <code>pickle</code> åºåˆ—åŒ–ã€‚</li>
                        <li><strong>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ:</strong> ä½¿ç”¨ HDFS, AWS S3, MinIO ç­‰ï¼Œç”¨äºå¤§è§„æ¨¡éƒ¨ç½²ã€‚</li>
                        <li><strong>æ•°æ®åº“ï¼ˆå…ƒæ•°æ®ï¼‰:</strong> å­˜å‚¨æ¨¡å‹çš„å…ƒæ•°æ®ï¼Œå¦‚ç‰ˆæœ¬å·ã€è¯„ä¼°æŒ‡æ ‡ï¼Œä»¥åŠæŒ‡å‘å®é™…æ¨¡å‹æ–‡ä»¶å­˜å‚¨è·¯å¾„çš„å¼•ç”¨ã€‚</li>
                    </ul>
                `
            },
            "card-versioning": {
                title: "æ¨¡å‹ç‰ˆæœ¬æ§åˆ¶",
                content: `
                    <p>é€šè¿‡ç»™æ¯ä¸ªèšåˆåçš„æ¨¡å‹åˆ†é…å”¯ä¸€çš„ç‰ˆæœ¬å·ï¼Œå¹¶å°†å…¶ä¸å…ƒæ•°æ®ä¸€èµ·å­˜å‚¨ï¼Œæ‚¨å¯ä»¥å®ç°æ¨¡å‹çš„ç‰ˆæœ¬ç®¡ç†ã€‚</p>
                    <p>è¿™å¯¹äºå®éªŒè¿½è¸ªã€æ€§èƒ½å¯¹æ¯”å’Œç”Ÿäº§éƒ¨ç½²è‡³å…³é‡è¦ã€‚æ‚¨å¯ä»¥æ ¹æ®ç‰ˆæœ¬å·åŠ è½½ç‰¹å®šçš„å†å²æ¨¡å‹è¿›è¡Œåˆ†ææˆ–é‡æ–°è®­ç»ƒã€‚</p>
                `
            },
            "card-loading": {
                title: "æ¨¡å‹åŠ è½½",
                content: `
                    <p>åœ¨æ¯ä¸€è½®è®­ç»ƒå¼€å§‹å‰ï¼ŒæœåŠ¡å™¨éœ€è¦åŠ è½½æœ€æ–°çš„å…¨å±€æ¨¡å‹å‚æ•°ï¼Œä»¥ä¾¿å°†å…¶ä¸‹å‘ç»™å®¢æˆ·ç«¯ã€‚</p>
                    <p>å¦‚æœæ˜¯é¦–æ¬¡å¯åŠ¨è”é‚¦å­¦ä¹ ï¼Œåˆ™ä¼šåŠ è½½ä¸€ä¸ªåˆå§‹çš„é¢„è®­ç»ƒæ¨¡å‹ä½œä¸ºè®­ç»ƒçš„èµ·ç‚¹ã€‚åŠ è½½é€»è¾‘éœ€è¦æ‚¨æ ¹æ®æ‚¨çš„å­˜å‚¨æ–¹æ¡ˆè‡ªè¡Œå®ç°ã€‚</p>
                `
            },
            "card-internal": {
                title: "å†…éƒ¨è¡¨ç¤º (Python)",
                content: `
                    <p>åœ¨æ‚¨çš„ Python ä»£ç ä¸­ï¼Œæ¨¡å‹æƒé‡é€šå¸¸æ˜¯ NumPy æ•°ç»„çš„åˆ—è¡¨ (<code>List[np.ndarray]</code>)ã€‚</p>
                    <p>Flower å®¢æˆ·ç«¯çš„ <code>get_parameters</code> å’Œ <code>fit</code> æ–¹æ³•éƒ½ä½¿ç”¨è¿™ç§æ ¼å¼ä¸æ¡†æ¶è¿›è¡Œäº¤äº’ï¼Œè¿™æ˜¯å¼€å‘è€…æœ€å¸¸æ¥è§¦çš„æ•°æ®å½¢å¼ã€‚</p>
                `
            },
            "card-transport": {
                title: "ç½‘ç»œä¼ è¾“ (Protobuf)",
                content: `
                    <p>ä¸ºäº†åœ¨ç½‘ç»œä¸Šä¼ è¾“ï¼ŒFlower ä¼šè‡ªåŠ¨å°† NumPy æ•°ç»„è½¬æ¢ä¸ºå…¶å†…éƒ¨çš„ <code>flwr.common.Parameters</code> æ ¼å¼ï¼Œè¿™æ˜¯ä¸€ä¸ª Protocol Buffers (Protobuf) æ¶ˆæ¯ã€‚</p>
                    <p>Protobuf æ˜¯ä¸€ç§é«˜æ•ˆã€å¯æ‰©å±•çš„åºåˆ—åŒ–æ–¹æ³•ï¼Œå®ƒå°†æ•°æ®ç¼–ç æˆç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œéå¸¸é€‚åˆç½‘ç»œä¼ è¾“ã€‚è¿™ä¸ªè¿‡ç¨‹å¯¹å¼€å‘è€…æ˜¯é€æ˜çš„ã€‚</p>
                    <p><code>Parameters</code> å¯¹è±¡ä¸»è¦åŒ…å«æ¨¡å‹çš„æƒé‡æ•°æ® (<code>tensors</code>) å’Œæ•°æ®ç±»å‹ (<code>tensor_type</code>)ã€‚</p>
                `
            },
            "card-reception": {
                title: "å®¢æˆ·ç«¯æ¥æ”¶ä¸ååºåˆ—åŒ–",
                content: `
                    <p>å½“å®¢æˆ·ç«¯ï¼ˆPython, Android, æˆ– iOSï¼‰æ¥æ”¶åˆ° Protobuf æ¶ˆæ¯åï¼ŒFlower SDK ä¼šè´Ÿè´£å°†å…¶ååºåˆ—åŒ–å› NumPy æ•°ç»„ã€‚</p>
                    <p>å¼€å‘è€…åœ¨å®¢æˆ·ç«¯çš„ <code>fit</code> æ–¹æ³•ä¸­ç›´æ¥è·å–åˆ°å¯ç”¨çš„ NumPy æ•°ç»„ï¼Œç„¶åå¯ä»¥å°†å…¶åŠ è½½åˆ°æœ¬åœ°çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼ˆå¦‚ TensorFlow, PyTorch æ¨¡å‹ï¼‰ä¸­è¿›è¡Œè®­ç»ƒã€‚</p>
                `
            }
        };

        const cards = document.querySelectorAll('.card');
        const detailsPanel = document.getElementById('details-panel');
        const detailsTitle = document.getElementById('details-title');
        const detailsContent = document.getElementById('details-content');
        let activeCard = null;

        cards.forEach(card => {
            card.addEventListener('click', () => {
                const cardId = card.id;

                if (activeCard) {
                    activeCard.classList.remove('active');
                }

                if (activeCard === card) {
                    detailsPanel.classList.remove('show');
                    activeCard = null;
                } else {
                    card.classList.add('active');
                    activeCard = card;

                    detailsTitle.textContent = detailsData[cardId].title;
                    detailsContent.innerHTML = detailsData[cardId].content;
                    detailsPanel.classList.add('show');
                }
            });
        });

        // Chart.js Donut Chart
        const ctx = document.getElementById('responsibilityChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Flower æ¡†æ¶èŒè´£ (åº•å±‚é€šä¿¡/åºåˆ—åŒ–)', 'å¼€å‘è€…èŒè´£ (æ¨¡å‹/å­˜å‚¨/ç­–ç•¥)'],
                datasets: [{
                    label: 'å·¥ä½œé‡åˆ’åˆ†',
                    data: [75, 25],
                    backgroundColor: [
                        '#0d9488', // Teal 600
                        '#0ea5e9'  // Sky 500
                    ],
                    borderColor: '#f9f9f9',
                    borderWidth: 4,
                    hoverOffset: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                size: 14,
                                family: "'Noto Sans SC', sans-serif"
                            },
                            padding: 20
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed + '%';
                                }
                                return label;
                            }
                        }
                    }
                },
                cutout: '60%'
            }
        });
    </script>

</body>
</html>
